package com.company.tree;


import java.util.Arrays;


/**
 * æ—‹è½¬çŸ©é˜µ
 * <p>
 * https://leetcode-cn.com/problems/rotate-matrix-lcci/
 */
public class LeetCode_48_æ—‹è½¬çŸ©é˜µ {

    public static void main(String[] args) {
//        int[][] nums = {{1, 2, 3},
//                        {4, 5, 6},
//                        {7, 8, 9}};
        int[][] nums = {{5, 1, 9, 11},
                        {2, 4, 8, 10},
                        {13, 3, 6, 7},
                        {15, 14, 12, 16},
        };
        rotate3(nums);
        System.out.println(Arrays.deepToString(nums));
    }

    /**
     * å…ˆæ°´å¹³åå¯¹è§’çº¿ è¿›è¡Œç¿»è½¬æ¥ä»£æ›¿æ—‹è½¬ï¼›
     *
     * 1. matrix[row][col]â†’ æ°´å¹³è½´ç¿»è½¬ matrix[nâˆ’rowâˆ’1][col] , çŸ©é˜µæ¨ªå‘çš„ä¸­é—´åˆ‡å¼€ï¼Œä¸Šä¸‹ä¸¤ä¸ªéƒ¨åˆ†è¿›è¡Œäº¤æ¢
     *
     * 2. matrix[row][col]â†’ ä¸»å¯¹è§’çº¿ç¿»è½¬ matrix[col][row], ä¸Šä¸‹ä¸‰è§’çŸ©é˜µï¼Œæ¯ä¸ªå…ƒç´ ä¸€ä¸€äº¤æ¢
     *
     * 15 14 12 16                   15 13  2  5
     * 13  3  6  7   =ä¸»å¯¹è§’çº¿ç¿»è½¬=>   14  3  4  1
     *  2  4  8 10                   12  6  8  9
     *  5  1  9 11                   16  7 10 11
     *
     */
    public static void rotate2(int[][] matrix){
        //æ°´å¹³ç¿»è½¬, éå†ä¸€åŠçš„å…ƒç´ ï¼Œä¸Šä¸‹é¢äº¤æ¢ä¸€æ¬¡å°±å¤Ÿäº†
        int n = matrix.length;
        for (int i = 0; i < n/2; i++) {
            for (int j = 0; j < n; j++) {
                int temp = matrix[i][j];
                matrix[i][j]  = matrix[n-i-1][j];
                matrix[n-i-1][j] = temp;
            }
        }

        //ä¸»å¯¹è§’çº¿ç¿»è½¬
        for (int i = 0; i < n; i++) {
                //æ³¨æ„è¿™é‡Œæ˜¯ j<i , åªä¼šéå†å¯¹è§’çº¿å·¦è¾¹çš„å…ƒç´  å°±å¤Ÿäº†
                //ï¼ˆ0-ä¸è½¬æ¢ï¼Œ1å¯¹è§’çº¿å·¦è¾¹ä¸€ä¸ªå…ƒç´ ï¼Œ2å¯¹è§’çº¿å·¦è¾¹2ä¸ªå…ƒç´ ã€‚ã€‚ã€‚ï¼‰
            for (int j = 0; j < i; j++) {
                int temp = matrix[i][j];//[row][col]
                matrix[i][j]  = matrix[j][i];//[col][row]
                matrix[j][i] = temp;
            }
        }
    }

    /**
     * {
     * <p>
     * {1,2,3},        {7,4,1},
     * {4,5,6},  ->    {8,5,2},
     * {7,8,9}         {9,6,3}
     * <p>
     * }
     * <p>
     * ä½¿ç”¨äº†é¢å¤–çš„æ•°ç»„
     * <p>
     * å¯¹äºçŸ©é˜µä¸­ ç¬¬iè¡Œç¬¬jå…ƒç´  , è½¬æ¢å å‡ºç° å€’æ•°ç¬¬iåˆ— ç¬¬jçš„ä½ç½®
     * <p>
     * [i][j] => [j][nâˆ’iâˆ’1]
     * [col][nâˆ’rowâˆ’1]=matrix[row][col]
     */
    public static void rotate(int[][] nums) {
        int n = nums.length;
        int[][] matrix_new = new int[n][n];
        for (int i = 0; i < n; i++) { //row
            for (int j = 0; j < n; j++) { //col
                //æŠŠæ¯ä¸€è¡Œçš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œèµ‹å€¼åˆ°å³è¾¹æ¯ä¸€åˆ—çš„æ¯ä¸€ä¸ªå…ƒç´ 
                matrix_new[j][n - 1 - i] = nums[i][j];
            }
        }

        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                nums[i][j] = matrix_new[i][j];
            }
        }
    }

    /**
     *  æ­¥éª¤4   |  æ­¥éª¤3
     *  -------|--------
     *  æ­¥éª¤1   | æ­¥éª¤ 2
     *
     *  ğŸ‘†ğŸ»æ˜¯å³è¾¹èµ‹å€¼æ“ä½œï¼š
     *  æ­¥éª¤1 å†…å¾ªç¯æœ€å·¦è¾¹ä¸€åˆ—è¿›è¡Œæ—‹è½¬ï¼Œç„¶åç¬¬äºŒåˆ—...
     *  æ­¥éª¤2 å†…å¾ªç¯æœ€ä¸‹é¢ä¸€è¡Œï¼Œç„¶åå€’æ•°ç¬¬äºŒè¡Œ...
     *  æ­¥éª¤3 å†…å¾ªç¯æœ€å³é¢ä¸€åˆ—ï¼Œç„¶åå€’æ•°ç¬¬äºŒåˆ—...
     *  æ­¥éª¤4 å†…å¾ªç¯æœ€ä¸Šé¢ä¸€è¡Œï¼Œç„¶åç¬¬äºŒè¡Œ...
     *
     *  int tmp = matrix[row][col]; ç›¸å½“äºæˆ‘ä»¬ä½¿ç”¨å±€éƒ¨å˜é‡æŒä¹…åŒ–äº†ä¸€ä»½æ•°æ®åšç¼“å­˜ï¼›
     *  matrix[row][col]è¿™ä¸ªä½ç½®æˆ‘ä»¬å¯ä»¥å¯¹å…¶è¦†ç›–æ•°æ®è¿›è¡Œèµ‹å€¼äº†ï¼Œå› ä¸ºæˆ‘ä»¬æœ‰ç¼“å­˜äº†
     *  é¡ºæ—¶é’ˆï¼Œä¾æ¬¡å¯¹æ­¥éª¤4ï¼Œæ­¥éª¤1ï¼Œæ­¥éª¤2ï¼Œæ­¥éª¤3ï¼ŒåŒºåŸŸçš„ä½ç½®è¿›è¡Œèµ‹å€¼
     *
     *  ä¸ºä»€ä¹ˆå†…å¾ªç¯(n + 1) / 2ï¼Ÿ
     *  å½“é›†åˆnä¸ºå¥‡æ•°æ—¶ï¼Œæ˜¯ç”±3*2çš„å°æ–¹å—ç»„æˆä¸€å…±æœ‰4ä¸ª+ä¸€ä¸ªä¸­å¿ƒå°æ–¹å—ï¼›
     *  å› ä¸ºçŸ©é˜µæ˜¯è¢«æ‹†åˆ†æˆ4ä»½ï¼Œå½“é›†åˆnä¸ºå¥‡æ•°æ—¶ï¼Œæ¯”å¦‚5è‡³å°‘æ—‹è½¬3ä¸ªæ‰èƒ½æ»¡è¶³éƒ½æ—‹è½¬åˆ°ï¼›å½“å¥‡æ•°ä¸­å¿ƒå…ƒç´ ä¸ç”¨åŠ¨
     */
    public static void rotate3(int[][] matrix) {
        int n = matrix.length;
        for (int row = 0; row < n/2; row++) {
            for (int col = 0; col < (n + 1) / 2; col++) {
                System.out.println("æ­¥éª¤1= "+matrix[n - col - 1][row]
                        +"  æ­¥éª¤2= "+matrix[n - row - 1][n - col - 1]+"   æ­¥éª¤3= "+matrix[col][n - row - 1]
                        +"  æ­¥éª¤4= "+matrix[row][col]);

                int tmp = matrix[row][col];
                matrix[row][col] = matrix[n - col - 1][row];//1
                matrix[n - col - 1][row] = matrix[n - row - 1][n - col - 1];//2
                matrix[n - row - 1][n - col - 1] = matrix[col][n - row - 1];//3
                matrix[col][n-row-1] = tmp;//4


            }
        }
    }

}
